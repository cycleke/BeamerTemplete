% Copyright 2018 by cycleke
%
% This file may be distributed and/or modified
% under the LaTeX Project Public License

\useoutertheme{tree}
\useinnertheme[shadow=true]{rounded}

% fonts settings
\usefonttheme{professionalfonts}  % 数学公式字体

\setbeamertemplate{frametitle}
{
  \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  \@tempdima=\textwidth%
  \advance\@tempdima by\beamer@leftmargin%
  \advance\@tempdima by\beamer@rightmargin%
  \begin{beamercolorbox}[sep=0.3cm,left,wd=\the\@tempdima]{frametitle}
    \vbox{}\vskip-1ex%
    \if@tempswa\else\csname beamer@fteleft\endcsname\fi%
    {\strut\color{black}\bfseries\insertframetitle\strut\par%
      {%
        \ifx\insertframesubtitle\@empty%
        \else%
        {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
        \fi
      }%
      \vskip-1.5ex%
      \rule{\dimexpr\paperwidth-0.6cm\relax}{0.4pt}}
    \if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
  \end{beamercolorbox}%
}

% footline
% delete navigation below
\setbeamertemplate{navigation symbols}{}
% define footline
% \makeatother
\setbeamertemplate{footline}
{
  \leavevmode%
  \hbox{%
    \begin{beamercolorbox}[wd=.4\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
      \usebeamerfont{author in head/foot}\insertshortauthor{}
    \end{beamercolorbox}

    \begin{beamercolorbox}[wd=.6\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
      \usebeamerfont{title in head/foot}\insertshorttitle\hspace*{13em}
      \insertframenumber{} / \inserttotalframenumber\hspace*{0ex}
    \end{beamercolorbox}}

  \vskip0pt%
}

% item settings
\setbeamertemplate{enumerate items}[square]
\setbeamertemplate{section in toc}[sections numbered]
\setbeamertemplate{subsection in toc}[square]
\addtobeamertemplate{block begin}{}{\setlength{\parindent}{2em}}

% color definition
% 浅色设置
% \definecolor{alertcol}{RGB}{232 133 52}
% \definecolor{mygrey}{rgb}{0.52, 0.52, 0.51}
% \definecolor{beamer@simple@color}{RGB}{12 72 66} % bluegreen
% \DeclareOptionBeamer{gray}{\definecolor{beamer@simple@color}{gray}{#1}}
% \DeclareOptionBeamer{rgb}{\definecolor{beamer@simple@color}{rgb}{#1}}
% \DeclareOptionBeamer{RGB}[{12 72 0}]{\definecolor{beamer@simple@color}{RGB}{#1}}
% \DeclareOptionBeamer{HTML}{\definecolor{beamer@simple@color}{HTML}{#1}}
% \DeclareOptionBeamer{cmyk}{\definecolor{beamer@simple@color}{cmyk}{#1}}
% \DeclareOptionBeamer{cmy}{\definecolor{beamer@simple@color}{cmy}{#1}}
% \DeclareOptionBeamer{named}{\definecolor{beamer@simple@color}{named}{#1}}
% \DeclareOptionBeamer{hsb}{\definecolor{beamer@simple@color}{hsb}{#1}}
% \ProcessOptionsBeamer{}

% \setbeamercolor{structure}{fg=beamer@simple@color, bg=mygrey!10!white}
% \setbeamercolor{block title}{bg=mygrey!25!white}
% \setbeamercolor{block body}{fg=black,bg=mygrey!13!white}
% \setbeamercolor{block body alerted}{bg=white}
% \setbeamercolor{block title alerted}{fg=alertcol,bg=white}
% \setbeamercolor{alerted text}{fg=alertcol}
% \setbeamercolor{author in head/foot}{fg=black, bg=mygrey!5!white}
% \setbeamercolor{title in head/foot}{fg=black, bg=mygrey!5!white}
% \setbeamertemplate{itemize item}{$\color{beamer@simple@color}\bullet$}
% \setbeamertemplate{itemize subitem}{$\color{beamer@simple@color}\bullet$}
% \hypersetup{colorlinks,linkcolor=,urlcolor=beamer@simple@color!80!white}

% 深色设置，使用 solarized dark
\usecolortheme[dark,accent=cyan]{solarized}